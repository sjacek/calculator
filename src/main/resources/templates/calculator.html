<html ng-app="calculatorApp">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Calculator</title>
    <link href='./css/style.css' rel="stylesheet" type="text/css" />
    <link href='./css/css/font-awesome.css' rel="stylesheet" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <script data-require="angular.js@*" data-semver="1.3.20" src="http://code.angularjs.org/1.3.20/angular.js"></script>
    <script data-require="angular-animate@*" data-semver="1.3.20" src="http://code.angularjs.org/1.3.20/angular-animate.js"></script>
    <script src="http://momentjs.com/downloads/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="./js/app.js"></script>
    <script type="text/javascript" src="./js/CalculationController.js"></script>
</head>
<body>

<div ng-controller="calculationController">
    <div id="task-panel" class="fadein fadeout showpanel panel">
        <div class="panel-heading">
            <i class="panel-title-icon fa fa-calculator"></i>
            <span class="panel-title">Calculator</span>
            <div class="panel-heading-controls">
                <button ng-click="show_integral = !show_integral" class="btn-panel">Ca≈Çka e^x</button>
                <button ng-click="show_previous = !show_previous" class="btn-panel">Show previous calculations</button>
            </div>
        </div>
        <div class="panel-body">
            <div ng-hide="show_integral">
                <table>
                    <tr>
                        <td>Expression:</td>
                        <td><input type="text" ng-model="expression"/></td>
                    </tr>
                    <tr>
                        <td>Result:</td>
                        <td>{{ result }}</td>
                    </tr>
                    <tr>
                        <td><br/><button ng-click="calculate()" class="btn-panel-big">Calculate</button></td>
                    </tr>
                </table>
            </div>
            <div class="panel-body" ng-show="show_integral">
                <table>
                    <tr>
                        <td>Interval:</td>
                        <td><input type="text" ng-model="interval"/></td>
                    </tr>
                    <tr>
                        <td>Number of threads::</td>
                        <td><input type="text" ng-model="threads"/></td>
                    </tr>
                    <tr>
                        <td>Number of repetitions:</td>
                        <td><input type="text" ng-model="repetitions"/></td>
                    </tr>
                    <tr>
                        <td>Result:</td>
                        <td>{{ integralResult }}</td>
                    </tr>
                    <tr>
                        <td><br/><button ng-click="calculateIntegral()" class="btn-panel-big">Calculate</button></td>
                    </tr>
                </table>
            </div>
            <div class="panel-body" ng-show="show_previous">
                <div class="calculation" ng-repeat="calculation in calculations">
                    <!--script>
                        //<![CDATA[
                        var datetime = moment({{calculation.datetime}}, 'YYYY-MM-DD hh:mm');
                        document.getElementsById('demo').innerHTML = datetime;
                        //]]>
                    </script-->
                    <span class="calculation-row"><a ng-href="/calculations/{{hash}}">blabla</a></span>
                    <span class="calculation-row">{{calculation.expression}}</span>
                    <span class="calculation-row">{{moment(calculation.datetime, 'YYYY-MM-DD hh:mm')}}</span>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
